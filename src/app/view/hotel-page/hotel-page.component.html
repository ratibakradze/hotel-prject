<section class="main">
  <article class="top">
    <aside class="left">
      <div class="display">
        <div id="carouselExampleIndicators" class="carousel slide">
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="2"
              aria-label="Slide 3"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide-to="3"
              aria-label="Slide 4"
            ></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                [src]="hotelcard.image[0] ? hotelcard.image[0] : defaultImage"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                [src]="hotelcard.image[1] ? hotelcard.image[1] : defaultImage"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                [src]="hotelcard.image[2] ? hotelcard.image[2] : defaultImage"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                [src]="hotelcard.image[3] ? hotelcard.image[3] : defaultImage"
                class="d-block w-100"
                alt="..."
              />
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </aside>
    <aside class="right">
      <div class="header">
        <div class="name">
          <p>{{ hotelcard.title }}</p>
        </div>
        <div class="like">
          <p>
            {{
              hotelcard.reactionUserids.length === 0
                ? ""
                : hotelcard.reactionUserids.length
            }}
            <i
              #heart
              [ngClass]="{
                reacted: isUserReacted(hotelcard),
                'no-animation': !isUserAuthorized
              }"
              (click)="reactCard(hotelcard, heart)"
              class="fa-solid fa-heart"
            ></i>
          </p>
        </div>
        <div class="rate">
          <div class="plus">
            <p>
              {{ hotelcard.star }}
            </p>
          </div>
        </div>
      </div>
      <div class="info">
        <aside class="one">
          <div class="phone">
            <label for="phone">Phone:</label>
            <p>{{ hotelcard.phone }}</p>
          </div>
          <div class="email">
            <label for="email">Email:</label>
            <p>{{ hotelcard.email }}</p>
          </div>
          <div class="location">
            <label for="location">Location:</label>
            <p>{{ hotelcard.location }}</p>
          </div>
        </aside>
        <aside class="two">
          <button
            class="btn btn-primary"
            routerLink="/vreate-room/{{ hotelcard.id }}"
          >
            Add Room
          </button>
        </aside>
      </div>
      <div class="description">
        <p>
          {{ hotelcard.description }}
        </p>
      </div>
    </aside>
  </article>
  <article class="bottom">
    <aside class="roomheader">
      <div class="liner"></div>
      <div class="center"><p>Rooms</p></div>
      <div class="liner"></div>
    </aside>
    <aside class="rooms">
      <aside class="roomcard" *ngFor="let roomcard of hotelcard.rooms">
        <div class="roomdisplay">
          <img
            [src]="roomcard.image[0] ? roomcard.image[0] : defaultImage"
            class="card-img-top"
            alt="..."
          />
        </div>
        <div class="roominfo">
          <div class="up">
            <div class="price">
              <i class="fa-solid fa-lari-sign"></i>
              <p>{{ roomcard.price }}</p>
            </div>
            <div class="roomlike">
              <p>
                {{
                  roomcard.reactionUserids.length === 0
                    ? ""
                    : roomcard.reactionUserids.length
                }}
                <i
                  #heart
                  [ngClass]="{
                    reacted: isUserRoomReacted(roomcard),
                    'no-animation': !isUserAuthorized
                  }"
                  (click)="reactRoomCard(roomcard, heart)"
                  class="fa-solid fa-heart"
                ></i>
              </p>
            </div>
          </div>
          <div class="down">
            <div class="first">
              <div class="detals">
                <div class="m2">
                  <label for="m2" class="form-label">
                    <img
                      src="http://cdn.onlinewebfonts.com/svg/img_319731.png"
                      alt=""
                    />
                  </label>
                  <p>{{ roomcard.m2 }}</p>
                </div>
                <div class="floor">
                  <img
                    src="https://cdn-icons-png.flaticon.com/512/4547/4547765.png"
                    alt=""
                  />
                  <label for="floor" class="form-label">Floor: </label>
                  <p>{{ roomcard.floor }}</p>
                </div>
              </div>
              <div class="update">
                <a
                  routerLink="/update-room/{{ hotelcard.id }}"
                  (click)="saveRoomId(roomcard)"
                  *ngIf="checkCurrentUser(hotelcard)"
                >
                  Update room</a
                >
              </div>
            </div>
            <div class="second">
              <button
                class="btn btn-primary"
                routerLink="/room-page/{{ hotelcard.id }}"
                (click)="saveRoomId(roomcard)"
              >
                View
              </button>
            </div>
          </div>
        </div>
      </aside>
    </aside>
  </article>
</section>
